//--------------------------------------------------------------------------------------------------------------------------------------------------------------
// table module
// Used to display tabular data
//
// Content:
// - sass-versioning
// - globals
//--------------------------------------------------------------------------------------------------------------------------------------------------------------

.qld__tab-container .qld__table .qld__table__caption{
    font-size: 16px;
    font-size: 1rem;
}

.qld__tab-container .qld__table--scroll .qld__table .qld__table__caption{
    white-space: nowrap; 
}

.qld__table, table {
    border-collapse: collapse;
    border-spacing: 0;
    width:100%;
    margin:0px;

    .qld__table__caption,
    caption {
        @include QLD-fontgrid( md, heading);
        font-weight: bold;
        text-align: left;
        display: table-caption;
        @include QLD-space( padding-bottom, 0.5unit);
    }

    thead tr:nth-child(2){
        background-color: var(--QLD-color-light-background__shade);
    }
    
    thead tr:nth-first-child{
        background-color: var(--QLD-color-light-background) !important;
    }

    

    .qld__table__head,
    thead{
        display: table-header-group;
    }
    
    .qld__table__header,
    th{
        @include QLD-standard-space(padding, 5 4 5 4);
        @include QLD-fontgrid( md, heading);
        padding: 20px 16px 20px 16px;
        padding: 1.25rem 1rem 1.25rem 1rem;
        -webkit-box-shadow: inset 0 -2px 0 var(--QLD-color-light-designAccent);
        box-shadow: inset 0 -2px 0 var(--QLD-color-light-designAccent);
        color: var(--QLD-color-light-heading);
        font-weight: 600;
        font-size: 16px;
        font-size: 1rem;
        line-height: 1.5;
        text-align: left;
        vertical-align: middle;
    }

    .qld__table__cell,
    td{
        @include QLD-standard-space(padding, 3);
        padding: 12px;
        padding: .75rem;
        -webkit-box-shadow: inset 0 -1px 0 var(--QLD-color-light-border);
        box-shadow: inset 0 -1px 0 var(--QLD-color-light-border);
    }

    .qld__table__row,
    tr {
        display: table-row;
    }

    //Dark and Alt dark styles
	.qld__body--dark &,
	.qld__body--dark-alt &{

        .qld__table__header,
        th{
            color: var(--QLD-color-dark-heading);
            box-shadow: inset 0 0 -$QLD-border-width-default 0 var(--QLD-color-dark-border);
        }

        .qld__table__cell,
        td{
            box-shadow: inset 0 0 -$QLD-border-width-thin 0 var(--QLD-color-dark-border);
        }
    }

    tfoot{
        inset-block-end: 0;
        background-color: var(--QLD-color-light-background);
        font-weight: 600;
        -webkit-box-shadow: inset 0 2px 0 var(--QLD-color-light-designAccent);
        box-shadow: inset 0 2px 0 var(--QLD-color-light-designAccent);
    }

    th.qld__table__header--width-10 {
        width: 10%
    }
    
    th.qld__table__header--width-15 {
        width: 15%
    }
    
    th.qld__table__header--width-20 {
        width: 20%
    }
    
    th.qld__table__header--width-25 {
        width: 25%
    }
    
    th.qld__table__header--width-33 {
        width: 33%
    }
    
    th.qld__table__header--width-40{
        width: 40%
    }
    
    th.qld__table__header--width-50{
        width: 50%
    }
    
    th.qld__table_header--width-75 {
        width: 75%
    }

    .qld__table__cell:focus {
        outline: 3px solid var(--QLD-color-light-focus);
    }
    
    &.qld__table__head .qld__table__header:focus {
        outline: 3px solid var(--QLD-color-light-focus);
    }

    
    &.qld__table__col-1-num tr td:nth-child(1), .qld__table.qld__table__col-1-num tr th:nth-child(1):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }

    &.qld__table__col-2-num tr td:nth-child(2), .qld__table.qld__table__col-2-num tr th:nth-child(2):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-3-num tr td:nth-child(3), .qld__table.qld__table__col-3-num tr th:nth-child(3):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-4-num tr td:nth-child(4), .qld__table.qld__table__col-4-num tr th:nth-child(4):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-5-num tr td:nth-child(5), .qld__table.qld__table__col-5-num tr th:nth-child(5):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-6-num tr td:nth-child(6), .qld__table.qld__table__col-6-num tr th:nth-child(6):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-7-num tr td:nth-child(7), .qld__table.qld__table__col-7-num tr th:nth-child(7):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-8-num tr td:nth-child(8), .qld__table.qld__table__col-8-num tr th:nth-child(8):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-9-num tr td:nth-child(9), .qld__table.qld__table__col-9-num tr th:nth-child(9):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }
    &.qld__table__col-10-num tr td:nth-child(10), .qld__table.qld__table__col-10-num tr th:nth-child(10):not([colspan]){
        text-align: right;
        font-variant: tabular-nums
    }

    
&.qld__table__col-1-left-border tr td:nth-child(1){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-1-right-border tr td:nth-child(1){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-2-left-border tr td:nth-child(2) {
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-2-right-border tr td:nth-child(2) {
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-3-left-border tr td:nth-child(3){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-3-right-border tr td:nth-child(3){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-4-left-border tr td:nth-child(4){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-4-right-border tr td:nth-child(4){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-5-left-border tr td:nth-child(5) {
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-5-right-border tr td:nth-child(5){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-6-left-border tr td:nth-child(6){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-6-right-border tr td:nth-child(6) {
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-7-left-border tr td:nth-child(7) {
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-7-right-border tr td:nth-child(7){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-8-left-border tr td:nth-child(8) {
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-8-right-border tr td:nth-child(8){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-9-left-border tr td:nth-child(9){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-9-right-border tr td:nth-child(9){
    border-right: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-10-left-border tr td:nth-child(10){
    border-left: 1px solid var(--QLD-color-light-border);
   }
   
   &.qld__table__col-10-right-border tr td:nth-child(10){
    border-right: 1px solid var(--QLD-color-light-border);
   }
}

.qld__table caption, .qld__table__caption{
    font-size: 20px;
    font-size: 1.25rem;
    line-height: 32px;
    text-align: left;
    display: table-caption;
    font-weight: 600;
    color: var(--QLD-color-light-heading);
    height: fit-content;
    padding: 12px;
    padding: 0.75rem;
    padding-bottom: 12px;    /* This is needed to override a setting in global css */
    padding-bottom: 0.75rem; /* This is needed to override a setting in global css */
    border-bottom: none;
    -webkit-box-shadow: inset 0 -1px 0 var(--QLD-color-light-border);
    box-shadow: inset 0 -1px 0 var(--QLD-color-light-border);
    background-color: var(--QLD-color-light-background);
}

.qld__table.qld__table--striped, table.qld__table--striped{

    .qld__table__body,
    tbody{
        .qld__table__row:nth-last-child(odd),
        tr:nth-last-child(odd) {
            background-color: var(--QLD-color-light-background__shade);
        }
    }

    //Dark and Alt dark styles
	.qld__body--dark &,
	.qld__body--dark-alt &{
        .qld__table__body,
        tbody{
            .qld__table__row:nth-last-child(odd),
            tr:nth-last-child(odd) {
                background-color: var(--QLD-color-dark-background__shade);
            }
        }
    }
}
    
/* When a table is in a container and follows another element it will have a margin top based on the space between components */
* + .qld__table {
    margin-top:24px;
    margin-top:1.5rem;
}

td.qld__table__cell--numeric, th.qld__table__cell--numeric{
    text-align: right !important;
    font-variant: tabular-nums;
}

td.qld__table__cell--middle, th.qld__table__cell--middle{
    text-align: center !important;
}

.qld__table__cell-left-border {
    border-left: 1px solid var(--QLD-color-light-border);
}
    
.qld__table__cell-right-border {
    border-right: 1px solid var(--QLD-color-light-border);
}


.qld__table--scroll{
    max-height: 640px;
    overflow-y: auto;
    border: 1px solid var(--QLD-color-light-border);
    border-radius: var(--Qld__border-radius--sm);
}

.qld__table--scroll table caption{
    position: sticky;
    top: 0;
    min-height: 78px;
}

.qld__table--scroll table caption + thead{
    top: 78px;
}

.qld__table--scroll table thead, .qld__table--scroll table tfoot {
  position: sticky;
}

.qld__table--scroll table thead {
  inset-block-start: 0; /* "top" */
  background-color: var(--QLD-color-light-background);
}

.qld__table--scroll table tfoot {
  inset-block-end: 0; /* "bottom" */
}

.qld__table--contained{
    border: 1px solid var(--QLD-color-light-border);
    border-radius: var(--Qld__border-radius--sm);
    overflow: auto;
}


.qld__tab-container .qld__table--scroll, .qld__tab-container .qld__table--contained{ 
margin-top: 16px;
margin-top: 1rem;
}

* + .qld__table--scroll {
    margin-top:24px; /* Adds a margin-top to the table--scroll when it follows other objects in a container */
}


* + .qld__table--contained{
    margin-top: 24px; /* Adds a margin-top to the table--contained when it follows other objects in a container */
}




@include QLD-media(lg) {
    
    .qld__table--scroll{
        max-height: 1000px; /* On desktop vertical scroll kicks in at a larger height */
    }
    
    * + .qld__table--scroll {
        margin-top:32px;
        margin-top:2rem;   /* Desktop spacing between components */
    }
    
    * + .qld__table--contained{
        margin-top:32px;
        margin-top:2rem;   /* Desktop spacing between components */
    }
    
    * + .qld__table {
        margin-top:32px;
        margin-top:2rem; /* Desktop spacing between components */
    }
    
}
    
// .qld__table {
//     @include QLD-fontgrid( sm, 'default');
//     font-family: $QLD-font;
//     width: 100%;
//     border-collapse: collapse;
//     border-spacing: 0;
        
//     .qld__table__head {
//         display: table-header-group;
//         @include QLD-space( 'border-bottom', 0.25unit solid var(--QLD-color-light-designAccent));
        
//         .qld__table__header {
//             text-align: left;
//             @include QLD-space( padding, 0.75unit);
            
//             // header widths
//             &.qld__table__header--width-10 {
//                 width: 10%;
//             }
           
//             &.qld__table__header--width-20 {
//                 width: 20%;
//             }
            
//             &.qld__table__header--width-25 {
//                 width: 25%;
//             }
            
//             &.qld__table__header--width-33 {
//                 width: 33%;
//             }
            
//             &.qld__table__header--width-50 {
//                 width: 50%;
//             }
            
//             &.qld__table__header--width-75 {
//                 width: 75%;
//             }
            
//             &.qld__table__header--numeric {
//                 text-align: right;
//             }
            
//             &:focus {
//                 outline: 3px solid var(--QLD-color-light-focus);
//             }
//         }
//     }
    
    
//     .qld__table__cell {
//         @include QLD-space( padding, 0.75unit);
//         text-align: left;
//         border-bottom: 1px solid var(--QLD-color-light-designAccent);
        
//         &:focus {
//             outline: 3px solid var(--QLD-color-light-focus);
//         }
        
//         //numeric cells should be aligned right and have monospaced digits
//         &.qld__table__cell--numeric {
//             text-align: right;
//             font-variant: tabular-nums;
//         }
//     }
    
//     &.qld__table--striped .qld__table__body {
//         .qld__table__row:nth-last-child( odd) {
//             background-color: var(--QLD-color-light-background__shade);
//         }
//     }
    
//     //Alternate themes
//     .qld__body--alt &{
//         &.qld__table--striped .qld__table__body {
//             .qld__table__row:nth-last-child( odd) {
//                 background-color: var(--QLD-color-light-alt-background__shade);
//             }
//         }
//     }
    
//     .qld__body--dark &{
//         .qld__table__head{
//             @include QLD-space( 'border-bottom', 0.25unit solid var(--QLD-color-dark-designAccent));
//         } 
        
//         .qld__table__header,
//         .qld__table__cell{
//             border-bottom: 1px solid var(--QLD-color-dark-designAccent);
//         }
        
//         &.qld__table--striped .qld__table__body {
//             .qld__table__row:nth-last-child( odd) {
//                 background-color: var(--QLD-color-dark-background__shade);
//             }
//         }
//     }
    
//     .qld__body--dark-alt &{
//         .qld__table__head{
//             @include QLD-space( 'border-bottom', 0.25unit solid var(--QLD-color-dark-designAccent));
//         } 
        
//         .qld__table__header,
//         .qld__table__cell{
//             border-bottom: 1px solid var(--QLD-color-dark-designAccent);
//         }
        
//         &.qld__table--striped .qld__table__body {
//             .qld__table__row:nth-last-child( odd) {
//                 background-color: var(--QLD-color-dark-alt-background__shade);
//             }
//         }
//     }
// }

// .qld__table__wrapper {
//     overflow-x: auto;
// }
